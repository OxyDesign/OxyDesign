function fetchTweets(){twitterFetcher.fetch({id:"659879377698729984",dataOnly:!0,maxTweets:5,customCallback:function(e){var t="";e.forEach(function(e){t+="<li>"+(e.image?'<img src="'+e.image+'" />':"")+'<p class="tweet-content">'+e.tweet+'</p><p class="tweet-infos">'+e.time+"</p></li>"}),document.getElementById("tweets").innerHTML=t}})}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){if(null===g){for(var t=e.length,n=0,i=document.getElementById(a),s="<ul>";t>n;)s+="<li>"+e[n]+"</li>",n++;s+="</ul>",i.innerHTML=s}else g(e)}function t(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function n(e){for(var t=e.getElementsByTagName("a"),n=t.length-1;n>=0;n--)t[n].setAttribute("target","_blank")}function i(e,t){for(var n=[],i=new RegExp("(^| )"+t+"( |$)"),s=e.getElementsByTagName("*"),a=0,l=s.length;l>a;a++)i.test(s[a].className)&&n.push(s[a]);return n}function s(e){if(void 0!==e&&e.innerHTML.indexOf("data-srcset")>=0){var t=e.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(t).split('"')[1]}}var a="",l=20,r=!0,o=[],c=!1,d=!0,m=!0,u=null,p=!0,h=!0,g=null,f=!0,w=!1,v=!0,y="en",T=!0,b=!1,C=null,E={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),c)o.push(e);else{c=!0,a=e.domId,l=e.maxTweets,r=e.enableLinks,m=e.showUser,d=e.showTime,h=e.showRetweet,u=e.dateFunction,g=e.customCallback,f=e.showInteraction,w=e.showImages,v=e.linksInNewWindow,T=e.showPermalinks,b=e.dataOnly;var t=document.getElementsByTagName("head")[0];null!==C&&t.removeChild(C),C=document.createElement("script"),C.type="text/javascript",C.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||y)+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(C)}},callback:function(a){function g(e){var t=e.getElementsByTagName("img")[0];return t.src=t.getAttribute("data-src-2x"),e}var y=document.createElement("div");y.innerHTML=a.body,"undefined"==typeof y.getElementsByClassName&&(p=!1);var C=[],L=[],k=[],x=[],N=[],A=[],_=[],B=0;if(p)for(var I=y.getElementsByClassName("timeline-Tweet");B<I.length;)I[B].getElementsByClassName("timeline-Tweet-retweetCredit").length>0?N.push(!0):N.push(!1),(!N[B]||N[B]&&h)&&(C.push(I[B].getElementsByClassName("timeline-Tweet-text")[0]),A.push(I[B].getAttribute("data-tweet-id")),L.push(g(I[B].getElementsByClassName("timeline-Tweet-author")[0])),k.push(I[B].getElementsByClassName("dt-updated")[0]),_.push(I[B].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==I[B].getElementsByClassName("timeline-Tweet-media")[0]?x.push(I[B].getElementsByClassName("timeline-Tweet-media")[0]):x.push(void 0)),B++;else for(var I=i(y,"timeline-Tweet");B<I.length;)i(I[B],"timeline-Tweet-retweetCredit").length>0?N.push(!0):N.push(!1),(!N[B]||N[B]&&h)&&(C.push(i(I[B],"timeline-Tweet-text")[0]),A.push(I[B].getAttribute("data-tweet-id")),L.push(g(i(I[B],"timeline-Tweet-author")[0])),k.push(i(I[B],"dt-updated")[0]),_.push(i(I[B],"timeline-Tweet-timestamp")[0]),void 0!==i(I[B],"timeline-Tweet-media")[0]?x.push(i(I[B],"timeline-Tweet-media")[0]):x.push(void 0)),B++;C.length>l&&(C.splice(l,C.length-l),L.splice(l,L.length-l),k.splice(l,k.length-l),N.splice(l,N.length-l),x.splice(l,x.length-l),_.splice(l,_.length-l));var q=[],B=C.length,M=0;if(b)for(;B>M;)q.push({tweet:C[M].innerHTML,author:L[M].innerHTML,time:k[M].textContent,image:s(x[M]),rt:N[M],tid:A[M],permalinkURL:void 0===_[M]?"":_[M].href}),M++;else for(;B>M;){if("string"!=typeof u){var S=k[M].getAttribute("datetime"),H=new Date(k[M].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),R=u(H,S);if(k[M].setAttribute("aria-label",R),C[M].textContent)if(p)k[M].textContent=R;else{var F=document.createElement("p"),P=document.createTextNode(R);F.appendChild(P),F.setAttribute("aria-label",R),k[M]=F}else k[M].textContent=R}var O="";r?(v&&(n(C[M]),m&&n(L[M])),m&&(O+='<div class="user">'+t(L[M].innerHTML)+"</div>"),O+='<p class="tweet">'+t(C[M].innerHTML)+"</p>",d&&(O+=T?'<p class="timePosted"><a href="'+_[M]+'">'+k[M].getAttribute("aria-label")+"</a></p>":'<p class="timePosted">'+k[M].getAttribute("aria-label")+"</p>")):C[M].textContent?(m&&(O+='<p class="user">'+L[M].textContent+"</p>"),O+='<p class="tweet">'+C[M].textContent+"</p>",d&&(O+='<p class="timePosted">'+k[M].textContent+"</p>")):(m&&(O+='<p class="user">'+L[M].textContent+"</p>"),O+='<p class="tweet">'+C[M].textContent+"</p>",d&&(O+='<p class="timePosted">'+k[M].textContent+"</p>")),f&&(O+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+A[M]+'" class="twitter_reply_icon"'+(v?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+A[M]+'" class="twitter_retweet_icon"'+(v?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+A[M]+'" class="twitter_fav_icon"'+(v?' target="_blank">':">")+"Favorite</a></p>"),w&&void 0!==x[M]&&(O+='<div class="media"><img src="'+s(x[M])+'" alt="Image from tweet" /></div>'),q.push(O),M++}e(q),c=!1,o.length>0&&(E.fetch(o[0]),o.splice(0,1))}};return window.twitterFetcher=E,E}),window.onload=function(){var e=Array.prototype.slice.call(document.querySelectorAll(".dynamic-chart")),t=Array.prototype.slice.call(document.querySelectorAll(".toggle")),n=document.querySelector(".wrapper");e.forEach(function(e){var t=e.querySelector(".chart"),n=document.createDocumentFragment("div"),i=Array.prototype.slice.call(e.querySelectorAll("li")).map(function(e){var t=e.querySelector("span");return t.style.display="none",parseInt(t.textContent,10)}),s=i.reduce(function(e,t){return e+t},0),a=0;t.classList.add("inactive"),i=i.map(function(e,t,n){return{circle:document.createElement("div"),angle:a=360*e/s+a}}),i.reduceRight(function(e,t){var i,s=t.angle,a=t.circle;a.classList.add("circle");var l=a.appendChild(document.createElement("div")),r=l.appendChild(document.createElement("div"));if(l.classList.add("half-right"),r.classList.add("half-circle"),s>180){i=180;var o=a.insertBefore(document.createElement("div"),l),c=o.appendChild(document.createElement("div"));o.classList.add("half-left"),c.classList.add("half-circle"),c.style.webkitTransform=c.style.MozTransform=c.style.msTransform=c.style.transform="rotate("+(s-180+45)+"deg)"}return r.style.webkitTransform=r.style.MozTransform=r.style.msTransform=r.style.transform="rotate("+((i||s)+45)+"deg)",n.appendChild(a),s},0),t.appendChild(n),t.addEventListener("click",function(){this.classList.toggle("inactive")})}),setTimeout(function(){setTimeout(function(){fetchTweets()}),e.forEach(function(e){e.querySelector(".chart").classList.remove("inactive")})},500),t.forEach(function(e){e.classList.add("closed")}),document.querySelector(".global-object").addEventListener("click",function(e){var t=e.target;t.classList.contains("toggle")?t.classList.toggle("closed"):t.parentElement.classList.contains("toggle")&&t.parentElement.classList.toggle("closed")}),document.querySelector(".bt-toggle").addEventListener("click",function(){var e=this.classList.contains("closed")?"remove":"add";this.classList[e]("closed"),t.forEach(function(t){t.classList[e]("closed")})}),document.querySelector(".toggle-links").addEventListener("click",function(){n.classList.toggle("show-links")}),document.querySelector(".toggle-twitter").addEventListener("click",function(){n.classList.toggle("show-twitter")})};